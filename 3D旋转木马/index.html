<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>css3 3D旋转木马</title>
</head>
<style>
*{
	margin:0;
	padding: 0;
}
#stage{
	width: 1000px;
	height: 300px;
	background: #f0f0f0;
    border: 1px solid #ccc;
    margin:100px auto;
    -webkit-perspective: 800px;
    -webkit-perspective-origin: 50% -10%;
}
#container{
	width: 128px;
	height: 100px;
	position: relative;
	margin:100px auto;
	-webkit-transform-style: preserve-3d;
	-webkit-transition:all 1s ease;
}
#container img{		
    position: absolute;
    left: 0;
    top: 0;
    -webkit-transition: all 1s ease;
}
</style>
<body>
	<div id="stage">
		<div id="container">
			
		</div>
	</div>
	<script>
		var oContainer = document.getElementById('container');
		var index = 0;
		for(var i=0;i<9;i++){
			var oImg = new Image();
			oImg.onload = function(){
				index++;
				if(index == 9){
					var aImg = oContainer.getElementsByTagName('img');
					for(var i=0;i<9;i++){
						(function(idx){
							setTimeout(function(){
								aImg[idx].style.webkitTransform = 'rotateY('+(idx*40)+'deg) translateZ(195px)';
							},100*(9-i));
						})(i);
					}
				}
			};
			oImg.src = 'images/mm'+(i+1)+'.jpg';
			oContainer.appendChild(oImg);
		}
		var index2=0;
		oContainer.onclick = function(){
			this.style.webkitTransform = 'rotateY('+(++index2*40)+'deg)';
		}
	</script>
</body>
</html>